From 2d3ee790191637b56052147c80f326bed3d68c9c Mon Sep 17 00:00:00 2001
From: joaopa <jeremielapuree@yahoo.fr>
Date: Sat, 3 Sep 2022 08:59:53 -1000
Subject: [PATCH] [GR - EPT] Add live channels

---
 0001-GR-EPT-Add-live-channels.patch           | 641 ++++++++++++++++++
 .../resource.language.en_gb/strings.po        |   5 +
 .../resource.language.fr_fr/strings.po        |   4 +
 .../resource.language.he_il/strings.po        |   4 +
 .../resource.language.nl_nl/strings.po        |   4 +
 resources/lib/channels/gr/__init__.py         |   0
 resources/lib/channels/gr/ept.py              |  29 +
 resources/lib/channels/wo/eptworld.py         |  29 +
 resources/lib/skeletons/gr_live.py            |  60 ++
 resources/lib/skeletons/live_tv.py            | 144 ++--
 resources/lib/skeletons/wo_live.py            |  44 +-
 11 files changed, 878 insertions(+), 86 deletions(-)
 create mode 100644 0001-GR-EPT-Add-live-channels.patch
 create mode 100644 resources/lib/channels/gr/__init__.py
 create mode 100644 resources/lib/channels/gr/ept.py
 create mode 100644 resources/lib/channels/wo/eptworld.py
 create mode 100644 resources/lib/skeletons/gr_live.py

diff --git a/0001-GR-EPT-Add-live-channels.patch b/0001-GR-EPT-Add-live-channels.patch
new file mode 100644
index 00000000..5a516dcc
--- /dev/null
+++ b/0001-GR-EPT-Add-live-channels.patch
@@ -0,0 +1,641 @@
+From 9f6bdb0f67ec9dc05854de96706aa45e9cf30355 Mon Sep 17 00:00:00 2001
+From: joaopa <jeremielapuree@yahoo.fr>
+Date: Sat, 3 Sep 2022 08:59:53 -1000
+Subject: [PATCH] [GR - EPT] Add live channels
+
+---
+ .../resource.language.en_gb/strings.po        |   5 +
+ .../resource.language.fr_fr/strings.po        |   4 +
+ .../resource.language.he_il/strings.po        |   4 +
+ .../resource.language.nl_nl/strings.po        |   4 +
+ resources/lib/channels/gr/__init__.py         |   0
+ resources/lib/channels/gr/ept.py              |  29 ++++
+ resources/lib/channels/wo/eptworld.py         |  29 ++++
+ resources/lib/skeletons/gr_live.py            |  60 ++++++++
+ resources/lib/skeletons/live_tv.py            | 144 +++++++++---------
+ resources/lib/skeletons/wo_live.py            |  44 +++---
+ 10 files changed, 237 insertions(+), 86 deletions(-)
+ create mode 100644 resources/lib/channels/gr/__init__.py
+ create mode 100644 resources/lib/channels/gr/ept.py
+ create mode 100644 resources/lib/channels/wo/eptworld.py
+ create mode 100644 resources/lib/skeletons/gr_live.py
+
+diff --git a/resources/language/resource.language.en_gb/strings.po b/resources/language/resource.language.en_gb/strings.po
+index 28f71c6e..5d46576d 100644
+--- a/resources/language/resource.language.en_gb/strings.po
++++ b/resources/language/resource.language.en_gb/strings.po
+@@ -209,6 +209,11 @@ msgctxt "#30071"
+ msgid "Slovakia"
+ msgstr ""
+ 
++msgctxt "#30072"
++msgid "Greece"
++msgstr ""
++
++
+ # Channels (from 30080 to 30129)
+ 
+ msgctxt "#30080"
+diff --git a/resources/language/resource.language.fr_fr/strings.po b/resources/language/resource.language.fr_fr/strings.po
+index 68fe94dd..95017898 100644
+--- a/resources/language/resource.language.fr_fr/strings.po
++++ b/resources/language/resource.language.fr_fr/strings.po
+@@ -209,6 +209,10 @@ msgctxt "#30071"
+ msgid "Slovakia"
+ msgstr "Slovaquie"
+ 
++msgctxt "#30072"
++msgid "Greece"
++msgstr "Grèce"
++
+ # Channels (from 30080 to 30129)
+ 
+ msgctxt "#30080"
+diff --git a/resources/language/resource.language.he_il/strings.po b/resources/language/resource.language.he_il/strings.po
+index 53bdb29b..fd698b12 100644
+--- a/resources/language/resource.language.he_il/strings.po
++++ b/resources/language/resource.language.he_il/strings.po
+@@ -209,6 +209,10 @@ msgctxt "#30071"
+ msgid "Slovakia"
+ msgstr ""
+ 
++msgctxt "#30072"
++msgid "Greece"
++msgstr "יָוָן"
++
+ # Channels (from 30080 to 30129)
+ 
+ msgctxt "#30080"
+diff --git a/resources/language/resource.language.nl_nl/strings.po b/resources/language/resource.language.nl_nl/strings.po
+index c4679cff..1cd483c7 100644
+--- a/resources/language/resource.language.nl_nl/strings.po
++++ b/resources/language/resource.language.nl_nl/strings.po
+@@ -209,6 +209,10 @@ msgctxt "#30071"
+ msgid "Slovakia"
+ msgstr ""
+ 
++msgctxt "#30072"
++msgid "Greece"
++msgstr "Griekenland"
++
+ # Channels (from 30080 to 30129)
+ 
+ msgctxt "#30080"
+diff --git a/resources/lib/channels/gr/__init__.py b/resources/lib/channels/gr/__init__.py
+new file mode 100644
+index 00000000..e69de29b
+diff --git a/resources/lib/channels/gr/ept.py b/resources/lib/channels/gr/ept.py
+new file mode 100644
+index 00000000..a0d3c2c9
+--- /dev/null
++++ b/resources/lib/channels/gr/ept.py
+@@ -0,0 +1,29 @@
++# -*- coding: utf-8 -*-
++# Copyright: (c) 2019, SylvainCecchetto
++# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
++
++# This file is part of Catch-up TV & More
++
++from __future__ import unicode_literals
++import re
++
++from codequick import Resolver
++import urlquick
++
++from resources.lib import resolver_proxy, web_utils
++
++
++# TO DO
++# Add Replay
++
++URL_LIVE = 'https://www.ert.gr/webtv/ert/tv/live-glm/%s.html'
++
++
++@Resolver.register
++def get_live_url(plugin, item_id, **kwargs):
++    channel = {"ept1": "ert1", "ept2": "ert2", "ept3": "ert3", "eptnews": "ert-news", "eptsport": "ert-sports"}
++
++    resp = urlquick.get(URL_LIVE % (channel[item_id]), headers={"User-Agent": web_utils.get_random_ua()}, max_age=-1)
++    video_url = re.compile(r"var stream    = \'(.*?)\'").findall(resp.text)[0]
++
++    return resolver_proxy.get_stream_with_quality(plugin, video_url, manifest_type="hls")
+diff --git a/resources/lib/channels/wo/eptworld.py b/resources/lib/channels/wo/eptworld.py
+new file mode 100644
+index 00000000..1dbee79a
+--- /dev/null
++++ b/resources/lib/channels/wo/eptworld.py
+@@ -0,0 +1,29 @@
++# -*- coding: utf-8 -*-
++# Copyright: (c) 2019, SylvainCecchetto
++# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
++
++# This file is part of Catch-up TV & More
++
++from __future__ import unicode_literals
++import re
++
++from codequick import Resolver
++import urlquick
++
++from resources.lib import resolver_proxy, web_utils
++
++
++# TO DO
++# Add Replay
++
++URL_LIVE = 'https://ept-live-bcbs15228.siliconweb.com/media/%s/%s.m3u8'
++
++
++@Resolver.register
++def get_live_url(plugin, item_id, **kwargs):
++    channel = {"eptw": "ert_1"}
++
++    resp = urlquick.get(URL_LIVE % (channel[item_id], channel[item_id]), headers={"User-Agent": web_utils.get_random_ua()}, max_age=-1)
++    live_id = re.compile(r"var streamww = \'(.*?)\'").findall(resp.text)[0]
++
++    return resolver_proxy.get_quality(plugin, live_id)
+diff --git a/resources/lib/skeletons/gr_live.py b/resources/lib/skeletons/gr_live.py
+new file mode 100644
+index 00000000..fe4d8e2d
+--- /dev/null
++++ b/resources/lib/skeletons/gr_live.py
+@@ -0,0 +1,60 @@
++# -*- coding: utf-8 -*-
++# Copyright: (c) 2022, Joaopa
++# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
++
++# This file is part of Catch-up TV & More
++
++from __future__ import unicode_literals
++
++# The following dictionaries describe
++# the addon's tree architecture.
++# * Key: item id
++# * Value: item infos
++#     - route (folder)/resolver (playable URL): Callback function to run once this item is selected
++#     - thumb: Item thumb path relative to "media" folder
++#     - fanart: Item fanart path relative to "media" folder
++
++root = 'live_tv'
++
++menu = {
++    'ept1': {
++        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
++        'label': 'EPT1',
++        'thumb': 'channels/cm/ept1.png',
++        'fanart': 'channels/cm/ept1_fanart.jpg',
++        'enabled': True,
++        'order': 1
++    },
++    'ept2': {
++        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
++        'label': 'EPT2',
++        'thumb': 'channels/gr/ept2.png',
++        'fanart': 'channels/gr/ept2_fanart.jpg',
++        'enabled': True,
++        'order': 2
++    },
++    'ept3': {
++        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
++        'label': 'EPT3',
++        'thumb': 'channels/gr/ept3.png',
++        'fanart': 'channels/gr/ept3_fanart.jpg',
++        'enabled': True,
++        'order': 3
++    },
++    'eptsport': {
++        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
++        'label': 'EPT Sport',
++        'thumb': 'channels/gr/eptsport.png',
++        'fanart': 'channels/gr/eptsport_fanart.jpg',
++        'enabled': True,
++        'order': 4
++    },
++    'eptnews': {
++        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
++        'label': 'EPT News',
++        'thumb': 'channels/gr/eptnews.png',
++        'fanart': 'channels/gr/eptnews_fanart.jpg',
++        'enabled': True,
++        'order': 5
++    }
++}
+diff --git a/resources/lib/skeletons/live_tv.py b/resources/lib/skeletons/live_tv.py
+index 3e63c5fc..6ba28cbc 100644
+--- a/resources/lib/skeletons/live_tv.py
++++ b/resources/lib/skeletons/live_tv.py
+@@ -21,13 +21,21 @@ TV_GUIDE = Script.setting.get_boolean('tv_guide')
+ root = 'root'
+ 
+ menu = {
++    'wo_live': {
++        'route': '/resources/lib/main:tv_guide_menu'
++        if TV_GUIDE else '/resources/lib/main:generic_menu',
++        'label': 30053,
++        'thumb': 'channels/wo.png',
++        'enabled': True,
++        'order': 1
++    },
+     'fr_live': {
+         'route': '/resources/lib/main:tv_guide_menu'
+         if TV_GUIDE else '/resources/lib/main:generic_menu',
+         'label': 30050,
+         'thumb': 'channels/fr.png',
+         'enabled': True,
+-        'order': 1
++        'order': 2
+     },
+     'ch_live': {
+         'route': '/resources/lib/main:tv_guide_menu'
+@@ -35,7 +43,7 @@ menu = {
+         'label': 30051,
+         'thumb': 'channels/ch.png',
+         'enabled': True,
+-        'order': 2
++        'order': 3
+     },
+     'uk_live': {
+         'route': '/resources/lib/main:tv_guide_menu'
+@@ -43,14 +51,6 @@ menu = {
+         'label': 30052,
+         'thumb': 'channels/uk.png',
+         'enabled': True,
+-        'order': 3
+-    },
+-    'wo_live': {
+-        'route': '/resources/lib/main:tv_guide_menu'
+-        if TV_GUIDE else '/resources/lib/main:generic_menu',
+-        'label': 30053,
+-        'thumb': 'channels/wo.png',
+-        'enabled': True,
+         'order': 4
+     },
+     'be_live': {
+@@ -61,125 +61,133 @@ menu = {
+         'enabled': True,
+         'order': 5
+     },
+-    'jp_live': {
++    'pl_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30055,
+-        'thumb': 'channels/jp.png',
++        'label': 30058,
++        'thumb': 'channels/pl.png',
+         'enabled': True,
+         'order': 6
+     },
+-    'ca_live': {
+-        'route': '/resources/lib/main:tv_guide_menu'
+-        if TV_GUIDE else '/resources/lib/main:generic_menu',
+-        'label': 30056,
+-        'thumb': 'channels/ca.png',
++    'es_live': {
++        'route': '/resources/lib/main:generic_menu',
++        'label': 30059,
++        'thumb': 'channels/es.png',
+         'enabled': True,
+         'order': 7
+     },
+-    'us_live': {
+-        'route': '/resources/lib/main:generic_menu',
+-        'label': 30057,
+-        'thumb': 'channels/us.png',
++    'it_live': {
++        'route': '/resources/lib/main:tv_guide_menu'
++        if TV_GUIDE else '/resources/lib/main:generic_menu',
++        'label': 30061,
++        'thumb': 'channels/it.png',
+         'enabled': True,
+         'order': 8
+     },
+-    'pl_live': {
++    'nl_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30058,
+-        'thumb': 'channels/pl.png',
++        'label': 30062,
++        'thumb': 'channels/nl.png',
+         'enabled': True,
+         'order': 9
+     },
+-    'es_live': {
++    'sk_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30059,
+-        'thumb': 'channels/es.png',
++        'label': 30071,
++        'thumb': 'channels/sk.png',
+         'enabled': True,
+         'order': 10
+     },
+-    'tn_live': {
++    'si_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30060,
+-        'thumb': 'channels/tn.png',
++        'label': 30065,
++        'thumb': 'channels/si.png',
+         'enabled': True,
+         'order': 11
+     },
+-    'it_live': {
+-        'route': '/resources/lib/main:tv_guide_menu'
+-        if TV_GUIDE else '/resources/lib/main:generic_menu',
+-        'label': 30061,
+-        'thumb': 'channels/it.png',
++    'gr_live': {
++        'route': '/resources/lib/main:generic_menu',
++        'label': 30072,
++        'thumb': 'channels/gr.png',
+         'enabled': True,
+         'order': 12
+     },
+-    'nl_live': {
++    'lt_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30062,
+-        'thumb': 'channels/nl.png',
++        'label': 30069,
++        'thumb': 'channels/lt.png',
+         'enabled': True,
+         'order': 13
+     },
+-    'cn_live': {
+-        'route': '/resources/lib/main:generic_menu',
+-        'label': 30063,
+-        'thumb': 'channels/cn.png',
++    'ca_live': {
++        'route': '/resources/lib/main:tv_guide_menu'
++        if TV_GUIDE else '/resources/lib/main:generic_menu',
++        'label': 30056,
++        'thumb': 'channels/ca.png',
+         'enabled': True,
+         'order': 14
+     },
+-    'cm_live': {
++    'us_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30064,
+-        'thumb': 'channels/cm.png',
++        'label': 30057,
++        'thumb': 'channels/us.png',
+         'enabled': True,
+         'order': 15
+     },
+-    'si_live': {
++    'jp_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30065,
+-        'thumb': 'channels/si.png',
++        'label': 30055,
++        'thumb': 'channels/jp.png',
+         'enabled': True,
+         'order': 16
+     },
+-    'et_live': {
++    'cn_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30066,
+-        'thumb': 'channels/et.png',
++        'label': 30063,
++        'thumb': 'channels/cn.png',
+         'enabled': True,
+         'order': 17
+     },
+-    'ma_live': {
++    'sg_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30067,
+-        'thumb': 'channels/ma.png',
++        'label': 30068,
++        'thumb': 'channels/sg.png',
+         'enabled': True,
+         'order': 18
+     },
+-    'sg_live': {
++    'tr_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30068,
+-        'thumb': 'channels/sg.png',
++        'label': 30070,
++        'thumb': 'channels/tr.png',
+         'enabled': True,
+         'order': 19
+     },
+-    'lt_live': {
++    'ma_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30069,
+-        'thumb': 'channels/lt.png',
++        'label': 30067,
++        'thumb': 'channels/ma.png',
+         'enabled': True,
+         'order': 20
+     },
+-    'tr_live': {
++    'tn_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30070,
+-        'thumb': 'channels/tr.png',
++        'label': 30060,
++        'thumb': 'channels/tn.png',
+         'enabled': True,
+         'order': 21
+     },
+-    'sk_live': {
++    'cm_live': {
+         'route': '/resources/lib/main:generic_menu',
+-        'label': 30071,
+-        'thumb': 'channels/sk.png',
++        'label': 30064,
++        'thumb': 'channels/cm.png',
+         'enabled': True,
+         'order': 22
+-    }
++    },
++    'et_live': {
++        'route': '/resources/lib/main:generic_menu',
++        'label': 30066,
++        'thumb': 'channels/et.png',
++        'enabled': True,
++        'order': 23
++    },
++
+ }
+diff --git a/resources/lib/skeletons/wo_live.py b/resources/lib/skeletons/wo_live.py
+index c57d9177..f981b13b 100644
+--- a/resources/lib/skeletons/wo_live.py
++++ b/resources/lib/skeletons/wo_live.py
+@@ -40,7 +40,7 @@ menu = {
+             'HU': {}
+         },
+         'enabled': True,
+-        'order': 2
++        'order': 1
+     },
+     'arte': {
+         'resolver': '/resources/lib/channels/wo/arte:get_live_url',
+@@ -56,7 +56,7 @@ menu = {
+             'DE': {}
+         },
+         'enabled': True,
+-        'order': 3
++        'order': 2
+     },
+     'france24': {
+         'resolver': '/resources/lib/channels/wo/france24:get_live_url',
+@@ -73,7 +73,7 @@ menu = {
+             'AR': {}, 'ES': {}
+         },
+         'enabled': True,
+-        'order': 4
++        'order': 3
+     },
+     'nhkworld': {
+         'resolver': '/resources/lib/channels/wo/nhkworld:get_live_url',
+@@ -82,7 +82,7 @@ menu = {
+         'fanart': 'channels/wo/nhkworld_fanart.jpg',
+         'available_languages': {'Outside Japan': {}, 'In Japan': {}},
+         'enabled': True,
+-        'order': 5
++        'order': 4
+     },
+     'tivi5monde': {
+         'resolver': '/resources/lib/channels/wo/tivi5monde:get_live_url',
+@@ -90,7 +90,7 @@ menu = {
+         'thumb': 'channels/wo/tivi5monde.png',
+         'fanart': 'channels/wo/tivi5monde_fanart.jpg',
+         'enabled': True,
+-        'order': 7
++        'order': 5
+     },
+     'bvn': {
+         'resolver': '/resources/lib/channels/wo/bvn:get_live_url',
+@@ -98,7 +98,7 @@ menu = {
+         'thumb': 'channels/wo/bvn.png',
+         'fanart': 'channels/wo/bvn_fanart.jpg',
+         'enabled': True,
+-        'order': 8
++        'order': 6
+     },
+     'icitelevision': {
+         'resolver': '/resources/lib/channels/wo/icitelevision:get_live_url',
+@@ -106,7 +106,7 @@ menu = {
+         'thumb': 'channels/wo/icitelevision.png',
+         'fanart': 'channels/wo/icitelevision_fanart.jpg',
+         'enabled': True,
+-        'order': 9
++        'order': 7
+     },
+     'arirang': {
+         'resolver': '/resources/lib/channels/wo/arirang:get_live_url',
+@@ -114,7 +114,7 @@ menu = {
+         'thumb': 'channels/wo/arirang.png',
+         'fanart': 'channels/wo/arirang_fanart.jpg',
+         'enabled': True,
+-        'order': 11
++        'order': 8
+     },
+     'dw': {
+         'resolver': '/resources/lib/channels/wo/dw:get_live_url',
+@@ -126,7 +126,15 @@ menu = {
+             'AR': {}, 'ES': {}, 'DE': {}
+         },
+         'enabled': True,
+-        'order': 12
++        'order': 9
++    },
++    'eptw': {
++        'route': '/resources/lib/channels/wo/eptworld:get_live_url',
++        'label': 'EPT World',
++        'thumb': 'channels/wo/eptworld.png',
++        'fanart': 'channels/wo/eptworld.png',
++        'enabled': True,
++        'order': 10
+     },
+     'qvc': {
+         'resolver': '/resources/lib/channels/wo/qvc:get_live_url',
+@@ -135,7 +143,7 @@ menu = {
+         'fanart': 'channels/wo/qvc_fanart.jpg',
+         'available_languages': {'JP': {}, 'DE': {}, 'IT': {}, 'UK': {}, 'US': {}},
+         'enabled': True,
+-        'order': 15
++        'order': 11
+     },
+     'cgtn': {
+         'resolver': '/resources/lib/channels/wo/cgtn:get_live_url',
+@@ -144,7 +152,7 @@ menu = {
+         'fanart': 'channels/wo/cgtn_fanart.jpg',
+         'available_languages': {'FR': {}, 'EN': {}, 'AR': {}, 'ES': {}, 'RU': {}},
+         'enabled': True,
+-        'order': 17
++        'order': 12
+     },
+     'cgtndocumentary': {
+         'resolver': '/resources/lib/channels/wo/cgtn:get_live_url',
+@@ -152,7 +160,7 @@ menu = {
+         'thumb': 'channels/wo/cgtndocumentary.png',
+         'fanart': 'channels/wo/cgtndocumentary_fanart.jpg',
+         'enabled': True,
+-        'order': 18
++        'order': 13
+     },
+     'afriquemedia': {
+         'resolver': '/resources/lib/channels/wo/afriquemedia:get_live_url',
+@@ -160,7 +168,7 @@ menu = {
+         'thumb': 'channels/wo/afriquemedia.png',
+         'fanart': 'channels/wo/afriquemedia_fanart.jpg',
+         'enabled': True,
+-        'order': 20
++        'order': 14
+     },
+     'tv5mondefbs': {
+         'resolver': '/resources/lib/channels/wo/tv5monde:get_live_url',
+@@ -169,7 +177,7 @@ menu = {
+         'fanart': 'channels/wo/tv5mondefbs_fanart.jpg',
+         'xmltv_id': 'C205.api.telerama.fr',
+         'enabled': True,
+-        'order': 21
++        'order': 15
+     },
+     'tv5mondeinfo': {
+         'resolver': '/resources/lib/channels/wo/tv5monde:get_live_url',
+@@ -177,7 +185,7 @@ menu = {
+         'thumb': 'channels/wo/tv5mondeinfo.png',
+         'fanart': 'channels/wo/tv5mondeinfo_fanart.jpg',
+         'enabled': True,
+-        'order': 22
++        'order': 16
+     },
+     'channelnewsasia': {
+         'resolver': '/resources/lib/channels/wo/channelnewsasia:get_live_url',
+@@ -185,7 +193,7 @@ menu = {
+         'thumb': 'channels/wo/channelnewsasia.png',
+         'fanart': 'channels/wo/channelnewsasia_fanart.jpg',
+         'enabled': True,
+-        'order': 23
++        'order': 17
+     },
+     'rt': {
+         'resolver': '/resources/lib/channels/wo/rt:get_live_url',
+@@ -200,7 +208,7 @@ menu = {
+             'AR': {}, 'ES': {}
+         },
+         'enabled': True,
+-        'order': 24
++        'order': 18
+     },
+     'africa24': {
+         'resolver': '/resources/lib/channels/wo/africa24:get_live_url',
+@@ -208,6 +216,6 @@ menu = {
+         'thumb': 'channels/wo/africa24.png',
+         'fanart': 'channels/wo/africa24_fanart.jpg',
+         'enabled': True,
+-        'order': 25
++        'order': 19
+     }
+ }
+-- 
+2.34.1
+
diff --git a/resources/language/resource.language.en_gb/strings.po b/resources/language/resource.language.en_gb/strings.po
index 28f71c6e..5d46576d 100644
--- a/resources/language/resource.language.en_gb/strings.po
+++ b/resources/language/resource.language.en_gb/strings.po
@@ -209,6 +209,11 @@ msgctxt "#30071"
 msgid "Slovakia"
 msgstr ""
 
+msgctxt "#30072"
+msgid "Greece"
+msgstr ""
+
+
 # Channels (from 30080 to 30129)
 
 msgctxt "#30080"
diff --git a/resources/language/resource.language.fr_fr/strings.po b/resources/language/resource.language.fr_fr/strings.po
index 68fe94dd..95017898 100644
--- a/resources/language/resource.language.fr_fr/strings.po
+++ b/resources/language/resource.language.fr_fr/strings.po
@@ -209,6 +209,10 @@ msgctxt "#30071"
 msgid "Slovakia"
 msgstr "Slovaquie"
 
+msgctxt "#30072"
+msgid "Greece"
+msgstr "Grèce"
+
 # Channels (from 30080 to 30129)
 
 msgctxt "#30080"
diff --git a/resources/language/resource.language.he_il/strings.po b/resources/language/resource.language.he_il/strings.po
index 53bdb29b..fd698b12 100644
--- a/resources/language/resource.language.he_il/strings.po
+++ b/resources/language/resource.language.he_il/strings.po
@@ -209,6 +209,10 @@ msgctxt "#30071"
 msgid "Slovakia"
 msgstr ""
 
+msgctxt "#30072"
+msgid "Greece"
+msgstr "יָוָן"
+
 # Channels (from 30080 to 30129)
 
 msgctxt "#30080"
diff --git a/resources/language/resource.language.nl_nl/strings.po b/resources/language/resource.language.nl_nl/strings.po
index c4679cff..1cd483c7 100644
--- a/resources/language/resource.language.nl_nl/strings.po
+++ b/resources/language/resource.language.nl_nl/strings.po
@@ -209,6 +209,10 @@ msgctxt "#30071"
 msgid "Slovakia"
 msgstr ""
 
+msgctxt "#30072"
+msgid "Greece"
+msgstr "Griekenland"
+
 # Channels (from 30080 to 30129)
 
 msgctxt "#30080"
diff --git a/resources/lib/channels/gr/__init__.py b/resources/lib/channels/gr/__init__.py
new file mode 100644
index 00000000..e69de29b
diff --git a/resources/lib/channels/gr/ept.py b/resources/lib/channels/gr/ept.py
new file mode 100644
index 00000000..a0d3c2c9
--- /dev/null
+++ b/resources/lib/channels/gr/ept.py
@@ -0,0 +1,29 @@
+# -*- coding: utf-8 -*-
+# Copyright: (c) 2019, SylvainCecchetto
+# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
+
+# This file is part of Catch-up TV & More
+
+from __future__ import unicode_literals
+import re
+
+from codequick import Resolver
+import urlquick
+
+from resources.lib import resolver_proxy, web_utils
+
+
+# TO DO
+# Add Replay
+
+URL_LIVE = 'https://www.ert.gr/webtv/ert/tv/live-glm/%s.html'
+
+
+@Resolver.register
+def get_live_url(plugin, item_id, **kwargs):
+    channel = {"ept1": "ert1", "ept2": "ert2", "ept3": "ert3", "eptnews": "ert-news", "eptsport": "ert-sports"}
+
+    resp = urlquick.get(URL_LIVE % (channel[item_id]), headers={"User-Agent": web_utils.get_random_ua()}, max_age=-1)
+    video_url = re.compile(r"var stream    = \'(.*?)\'").findall(resp.text)[0]
+
+    return resolver_proxy.get_stream_with_quality(plugin, video_url, manifest_type="hls")
diff --git a/resources/lib/channels/wo/eptworld.py b/resources/lib/channels/wo/eptworld.py
new file mode 100644
index 00000000..cbd70593
--- /dev/null
+++ b/resources/lib/channels/wo/eptworld.py
@@ -0,0 +1,29 @@
+# -*- coding: utf-8 -*-
+# Copyright: (c) 2022, Joaopa
+# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
+
+# This file is part of Catch-up TV & More
+
+from __future__ import unicode_literals
+import re
+
+from codequick import Resolver
+import urlquick
+
+from resources.lib import resolver_proxy, web_utils
+
+
+# TO DO
+# Add Replay
+
+URL_LIVE = 'https://ept-live-bcbs15228.siliconweb.com/media/%s/%s.m3u8'
+
+
+@Resolver.register
+def get_live_url(plugin, item_id, **kwargs):
+    channel = {"eptw": "ert_1"}
+
+    resp = urlquick.get(URL_LIVE % (channel[item_id], channel[item_id]), headers={"User-Agent": web_utils.get_random_ua()}, max_age=-1)
+    live_id = re.compile(r"var streamww = \'(.*?)\'").findall(resp.text)[0]
+
+    return resolver_proxy.get_quality(plugin, live_id)
diff --git a/resources/lib/skeletons/gr_live.py b/resources/lib/skeletons/gr_live.py
new file mode 100644
index 00000000..fe4d8e2d
--- /dev/null
+++ b/resources/lib/skeletons/gr_live.py
@@ -0,0 +1,60 @@
+# -*- coding: utf-8 -*-
+# Copyright: (c) 2022, Joaopa
+# GNU General Public License v2.0+ (see LICENSE.txt or https://www.gnu.org/licenses/gpl-2.0.txt)
+
+# This file is part of Catch-up TV & More
+
+from __future__ import unicode_literals
+
+# The following dictionaries describe
+# the addon's tree architecture.
+# * Key: item id
+# * Value: item infos
+#     - route (folder)/resolver (playable URL): Callback function to run once this item is selected
+#     - thumb: Item thumb path relative to "media" folder
+#     - fanart: Item fanart path relative to "media" folder
+
+root = 'live_tv'
+
+menu = {
+    'ept1': {
+        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
+        'label': 'EPT1',
+        'thumb': 'channels/cm/ept1.png',
+        'fanart': 'channels/cm/ept1_fanart.jpg',
+        'enabled': True,
+        'order': 1
+    },
+    'ept2': {
+        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
+        'label': 'EPT2',
+        'thumb': 'channels/gr/ept2.png',
+        'fanart': 'channels/gr/ept2_fanart.jpg',
+        'enabled': True,
+        'order': 2
+    },
+    'ept3': {
+        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
+        'label': 'EPT3',
+        'thumb': 'channels/gr/ept3.png',
+        'fanart': 'channels/gr/ept3_fanart.jpg',
+        'enabled': True,
+        'order': 3
+    },
+    'eptsport': {
+        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
+        'label': 'EPT Sport',
+        'thumb': 'channels/gr/eptsport.png',
+        'fanart': 'channels/gr/eptsport_fanart.jpg',
+        'enabled': True,
+        'order': 4
+    },
+    'eptnews': {
+        'resolver': '/resources/lib/channels/gr/ept:get_live_url',
+        'label': 'EPT News',
+        'thumb': 'channels/gr/eptnews.png',
+        'fanart': 'channels/gr/eptnews_fanart.jpg',
+        'enabled': True,
+        'order': 5
+    }
+}
diff --git a/resources/lib/skeletons/live_tv.py b/resources/lib/skeletons/live_tv.py
index 3e63c5fc..6ba28cbc 100644
--- a/resources/lib/skeletons/live_tv.py
+++ b/resources/lib/skeletons/live_tv.py
@@ -21,13 +21,21 @@ TV_GUIDE = Script.setting.get_boolean('tv_guide')
 root = 'root'
 
 menu = {
+    'wo_live': {
+        'route': '/resources/lib/main:tv_guide_menu'
+        if TV_GUIDE else '/resources/lib/main:generic_menu',
+        'label': 30053,
+        'thumb': 'channels/wo.png',
+        'enabled': True,
+        'order': 1
+    },
     'fr_live': {
         'route': '/resources/lib/main:tv_guide_menu'
         if TV_GUIDE else '/resources/lib/main:generic_menu',
         'label': 30050,
         'thumb': 'channels/fr.png',
         'enabled': True,
-        'order': 1
+        'order': 2
     },
     'ch_live': {
         'route': '/resources/lib/main:tv_guide_menu'
@@ -35,7 +43,7 @@ menu = {
         'label': 30051,
         'thumb': 'channels/ch.png',
         'enabled': True,
-        'order': 2
+        'order': 3
     },
     'uk_live': {
         'route': '/resources/lib/main:tv_guide_menu'
@@ -43,14 +51,6 @@ menu = {
         'label': 30052,
         'thumb': 'channels/uk.png',
         'enabled': True,
-        'order': 3
-    },
-    'wo_live': {
-        'route': '/resources/lib/main:tv_guide_menu'
-        if TV_GUIDE else '/resources/lib/main:generic_menu',
-        'label': 30053,
-        'thumb': 'channels/wo.png',
-        'enabled': True,
         'order': 4
     },
     'be_live': {
@@ -61,125 +61,133 @@ menu = {
         'enabled': True,
         'order': 5
     },
-    'jp_live': {
+    'pl_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30055,
-        'thumb': 'channels/jp.png',
+        'label': 30058,
+        'thumb': 'channels/pl.png',
         'enabled': True,
         'order': 6
     },
-    'ca_live': {
-        'route': '/resources/lib/main:tv_guide_menu'
-        if TV_GUIDE else '/resources/lib/main:generic_menu',
-        'label': 30056,
-        'thumb': 'channels/ca.png',
+    'es_live': {
+        'route': '/resources/lib/main:generic_menu',
+        'label': 30059,
+        'thumb': 'channels/es.png',
         'enabled': True,
         'order': 7
     },
-    'us_live': {
-        'route': '/resources/lib/main:generic_menu',
-        'label': 30057,
-        'thumb': 'channels/us.png',
+    'it_live': {
+        'route': '/resources/lib/main:tv_guide_menu'
+        if TV_GUIDE else '/resources/lib/main:generic_menu',
+        'label': 30061,
+        'thumb': 'channels/it.png',
         'enabled': True,
         'order': 8
     },
-    'pl_live': {
+    'nl_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30058,
-        'thumb': 'channels/pl.png',
+        'label': 30062,
+        'thumb': 'channels/nl.png',
         'enabled': True,
         'order': 9
     },
-    'es_live': {
+    'sk_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30059,
-        'thumb': 'channels/es.png',
+        'label': 30071,
+        'thumb': 'channels/sk.png',
         'enabled': True,
         'order': 10
     },
-    'tn_live': {
+    'si_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30060,
-        'thumb': 'channels/tn.png',
+        'label': 30065,
+        'thumb': 'channels/si.png',
         'enabled': True,
         'order': 11
     },
-    'it_live': {
-        'route': '/resources/lib/main:tv_guide_menu'
-        if TV_GUIDE else '/resources/lib/main:generic_menu',
-        'label': 30061,
-        'thumb': 'channels/it.png',
+    'gr_live': {
+        'route': '/resources/lib/main:generic_menu',
+        'label': 30072,
+        'thumb': 'channels/gr.png',
         'enabled': True,
         'order': 12
     },
-    'nl_live': {
+    'lt_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30062,
-        'thumb': 'channels/nl.png',
+        'label': 30069,
+        'thumb': 'channels/lt.png',
         'enabled': True,
         'order': 13
     },
-    'cn_live': {
-        'route': '/resources/lib/main:generic_menu',
-        'label': 30063,
-        'thumb': 'channels/cn.png',
+    'ca_live': {
+        'route': '/resources/lib/main:tv_guide_menu'
+        if TV_GUIDE else '/resources/lib/main:generic_menu',
+        'label': 30056,
+        'thumb': 'channels/ca.png',
         'enabled': True,
         'order': 14
     },
-    'cm_live': {
+    'us_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30064,
-        'thumb': 'channels/cm.png',
+        'label': 30057,
+        'thumb': 'channels/us.png',
         'enabled': True,
         'order': 15
     },
-    'si_live': {
+    'jp_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30065,
-        'thumb': 'channels/si.png',
+        'label': 30055,
+        'thumb': 'channels/jp.png',
         'enabled': True,
         'order': 16
     },
-    'et_live': {
+    'cn_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30066,
-        'thumb': 'channels/et.png',
+        'label': 30063,
+        'thumb': 'channels/cn.png',
         'enabled': True,
         'order': 17
     },
-    'ma_live': {
+    'sg_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30067,
-        'thumb': 'channels/ma.png',
+        'label': 30068,
+        'thumb': 'channels/sg.png',
         'enabled': True,
         'order': 18
     },
-    'sg_live': {
+    'tr_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30068,
-        'thumb': 'channels/sg.png',
+        'label': 30070,
+        'thumb': 'channels/tr.png',
         'enabled': True,
         'order': 19
     },
-    'lt_live': {
+    'ma_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30069,
-        'thumb': 'channels/lt.png',
+        'label': 30067,
+        'thumb': 'channels/ma.png',
         'enabled': True,
         'order': 20
     },
-    'tr_live': {
+    'tn_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30070,
-        'thumb': 'channels/tr.png',
+        'label': 30060,
+        'thumb': 'channels/tn.png',
         'enabled': True,
         'order': 21
     },
-    'sk_live': {
+    'cm_live': {
         'route': '/resources/lib/main:generic_menu',
-        'label': 30071,
-        'thumb': 'channels/sk.png',
+        'label': 30064,
+        'thumb': 'channels/cm.png',
         'enabled': True,
         'order': 22
-    }
+    },
+    'et_live': {
+        'route': '/resources/lib/main:generic_menu',
+        'label': 30066,
+        'thumb': 'channels/et.png',
+        'enabled': True,
+        'order': 23
+    },
+
 }
diff --git a/resources/lib/skeletons/wo_live.py b/resources/lib/skeletons/wo_live.py
index c57d9177..f981b13b 100644
--- a/resources/lib/skeletons/wo_live.py
+++ b/resources/lib/skeletons/wo_live.py
@@ -40,7 +40,7 @@ menu = {
             'HU': {}
         },
         'enabled': True,
-        'order': 2
+        'order': 1
     },
     'arte': {
         'resolver': '/resources/lib/channels/wo/arte:get_live_url',
@@ -56,7 +56,7 @@ menu = {
             'DE': {}
         },
         'enabled': True,
-        'order': 3
+        'order': 2
     },
     'france24': {
         'resolver': '/resources/lib/channels/wo/france24:get_live_url',
@@ -73,7 +73,7 @@ menu = {
             'AR': {}, 'ES': {}
         },
         'enabled': True,
-        'order': 4
+        'order': 3
     },
     'nhkworld': {
         'resolver': '/resources/lib/channels/wo/nhkworld:get_live_url',
@@ -82,7 +82,7 @@ menu = {
         'fanart': 'channels/wo/nhkworld_fanart.jpg',
         'available_languages': {'Outside Japan': {}, 'In Japan': {}},
         'enabled': True,
-        'order': 5
+        'order': 4
     },
     'tivi5monde': {
         'resolver': '/resources/lib/channels/wo/tivi5monde:get_live_url',
@@ -90,7 +90,7 @@ menu = {
         'thumb': 'channels/wo/tivi5monde.png',
         'fanart': 'channels/wo/tivi5monde_fanart.jpg',
         'enabled': True,
-        'order': 7
+        'order': 5
     },
     'bvn': {
         'resolver': '/resources/lib/channels/wo/bvn:get_live_url',
@@ -98,7 +98,7 @@ menu = {
         'thumb': 'channels/wo/bvn.png',
         'fanart': 'channels/wo/bvn_fanart.jpg',
         'enabled': True,
-        'order': 8
+        'order': 6
     },
     'icitelevision': {
         'resolver': '/resources/lib/channels/wo/icitelevision:get_live_url',
@@ -106,7 +106,7 @@ menu = {
         'thumb': 'channels/wo/icitelevision.png',
         'fanart': 'channels/wo/icitelevision_fanart.jpg',
         'enabled': True,
-        'order': 9
+        'order': 7
     },
     'arirang': {
         'resolver': '/resources/lib/channels/wo/arirang:get_live_url',
@@ -114,7 +114,7 @@ menu = {
         'thumb': 'channels/wo/arirang.png',
         'fanart': 'channels/wo/arirang_fanart.jpg',
         'enabled': True,
-        'order': 11
+        'order': 8
     },
     'dw': {
         'resolver': '/resources/lib/channels/wo/dw:get_live_url',
@@ -126,7 +126,15 @@ menu = {
             'AR': {}, 'ES': {}, 'DE': {}
         },
         'enabled': True,
-        'order': 12
+        'order': 9
+    },
+    'eptw': {
+        'route': '/resources/lib/channels/wo/eptworld:get_live_url',
+        'label': 'EPT World',
+        'thumb': 'channels/wo/eptworld.png',
+        'fanart': 'channels/wo/eptworld.png',
+        'enabled': True,
+        'order': 10
     },
     'qvc': {
         'resolver': '/resources/lib/channels/wo/qvc:get_live_url',
@@ -135,7 +143,7 @@ menu = {
         'fanart': 'channels/wo/qvc_fanart.jpg',
         'available_languages': {'JP': {}, 'DE': {}, 'IT': {}, 'UK': {}, 'US': {}},
         'enabled': True,
-        'order': 15
+        'order': 11
     },
     'cgtn': {
         'resolver': '/resources/lib/channels/wo/cgtn:get_live_url',
@@ -144,7 +152,7 @@ menu = {
         'fanart': 'channels/wo/cgtn_fanart.jpg',
         'available_languages': {'FR': {}, 'EN': {}, 'AR': {}, 'ES': {}, 'RU': {}},
         'enabled': True,
-        'order': 17
+        'order': 12
     },
     'cgtndocumentary': {
         'resolver': '/resources/lib/channels/wo/cgtn:get_live_url',
@@ -152,7 +160,7 @@ menu = {
         'thumb': 'channels/wo/cgtndocumentary.png',
         'fanart': 'channels/wo/cgtndocumentary_fanart.jpg',
         'enabled': True,
-        'order': 18
+        'order': 13
     },
     'afriquemedia': {
         'resolver': '/resources/lib/channels/wo/afriquemedia:get_live_url',
@@ -160,7 +168,7 @@ menu = {
         'thumb': 'channels/wo/afriquemedia.png',
         'fanart': 'channels/wo/afriquemedia_fanart.jpg',
         'enabled': True,
-        'order': 20
+        'order': 14
     },
     'tv5mondefbs': {
         'resolver': '/resources/lib/channels/wo/tv5monde:get_live_url',
@@ -169,7 +177,7 @@ menu = {
         'fanart': 'channels/wo/tv5mondefbs_fanart.jpg',
         'xmltv_id': 'C205.api.telerama.fr',
         'enabled': True,
-        'order': 21
+        'order': 15
     },
     'tv5mondeinfo': {
         'resolver': '/resources/lib/channels/wo/tv5monde:get_live_url',
@@ -177,7 +185,7 @@ menu = {
         'thumb': 'channels/wo/tv5mondeinfo.png',
         'fanart': 'channels/wo/tv5mondeinfo_fanart.jpg',
         'enabled': True,
-        'order': 22
+        'order': 16
     },
     'channelnewsasia': {
         'resolver': '/resources/lib/channels/wo/channelnewsasia:get_live_url',
@@ -185,7 +193,7 @@ menu = {
         'thumb': 'channels/wo/channelnewsasia.png',
         'fanart': 'channels/wo/channelnewsasia_fanart.jpg',
         'enabled': True,
-        'order': 23
+        'order': 17
     },
     'rt': {
         'resolver': '/resources/lib/channels/wo/rt:get_live_url',
@@ -200,7 +208,7 @@ menu = {
             'AR': {}, 'ES': {}
         },
         'enabled': True,
-        'order': 24
+        'order': 18
     },
     'africa24': {
         'resolver': '/resources/lib/channels/wo/africa24:get_live_url',
@@ -208,6 +216,6 @@ menu = {
         'thumb': 'channels/wo/africa24.png',
         'fanart': 'channels/wo/africa24_fanart.jpg',
         'enabled': True,
-        'order': 25
+        'order': 19
     }
 }
-- 
2.34.1

